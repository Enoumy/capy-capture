let favicon=Object.assign(document.createElement("link"),{rel:"icon"});document.head.appendChild(favicon);function createFavicon(a){return"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='1em' font-size='75'>"+a+"</text></svg>"}function setFavicon(a){favicon.setAttribute("href",createFavicon(a))}const buttonsWrapper=document.getElementById("buttons");buttonsWrapper.classList.toggle("stopped"),setFavicon("\uD83D\uDCF7");const displayMediaOptions={audio:!1};var globalRecorder=null;async function startCapture(){await navigator.mediaDevices.getUserMedia({video:!0});const a=await navigator.mediaDevices.getDisplayMedia(displayMediaOptions),b=new MediaRecorder(a),c=[];b.ondataavailable=a=>c.push(a.data),b.onstop=()=>{const b=new Blob(c,{type:c[0].type});a.getVideoTracks()[0].stop();if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(b,"output.mp4");else{var d=window.document.createElement("a");d.href=window.URL.createObjectURL(b),d.download="output.mp4",document.body.appendChild(d),d.click(),document.body.removeChild(d)}buttonsWrapper.classList.toggle("stopped"),setFavicon("\uD83D\uDCF7")},globalRecorder=b,buttonsWrapper.classList.toggle("stopped"),b.start(),setFavicon("\uD83D\uDD34")}function stopCapture(){console.log("Stopping recording!"),globalRecorder&&globalRecorder.stop()}const startButton=document.getElementById("start"),stopButton=document.getElementById("stop");startButton.addEventListener("click",startCapture,!1),stopButton.addEventListener("click",stopCapture,!1);
